#!groovy

node {
  stage 'Checkout'
  echo "Checking out branch ${env.BRANCH_NAME}"
  checkout scm

  stage 'Generate Plugin Data'
  withEnv(["PATH+MAVEN=${tool 'M3'}/bin"]) {
    sh "mvn -P generatePluginData"
  }

  stage 'Upload Plugin Data'
  // TODO

}
